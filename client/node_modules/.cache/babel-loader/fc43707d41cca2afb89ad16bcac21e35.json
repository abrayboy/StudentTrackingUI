{"ast":null,"code":"var _jsxFileName = \"/Users/juallen/Repo/studenttrackingadmin/client/src/components/StudentList.js\";\nimport React from 'react';\nexport default class StudentList extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"StudentList Constructor\");\n    this.state = {\n      students: this.props.Students || []\n    };\n  }\n\n  update() {\n    let config = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"admin\"\n      }\n    };\n    fetch('/api/students', config).then(res => res.json()).then(res => this.setState({\n      students: res\n    }));\n  }\n\n  componentDidMount() {\n    this.update();\n  } // shouldComponentUpdate(nextProps, nextState) {\n  //     return this.props.Students.length !== nextState.students.length;\n  // }\n\n\n  componentDidUpdate(prevStudents) {\n    console.log(prevStudents.Students.length);\n    console.log(this.props.Students.length);\n    if (this.props.Students !== prevStudents) this.update();\n  }\n\n  deleteStudent(student) {\n    let config = {\n      method: \"POST\",\n      body: JSON.stringify({\n        StudentId: student\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"authorization\": \"admin\"\n      }\n    };\n    fetch(\"/api/delete\", config).then(res => res.json()).then(res => console.log(res));\n  }\n\n  render() {\n    let studentIds = this.state.students.map(student => student.StudentId);\n    let list = studentIds.map(id => {\n      return React.createElement(\"tr\", {\n        key: id,\n        onClick: () => {\n          this.deleteStudent(id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, id);\n    });\n    return React.createElement(\"table\", {\n      className: \"student-container table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Student Id\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, list));\n  }\n\n}","map":{"version":3,"sources":["/Users/juallen/Repo/studenttrackingadmin/client/src/components/StudentList.js"],"names":["React","StudentList","Component","constructor","props","console","log","state","students","Students","update","config","method","headers","fetch","then","res","json","setState","componentDidMount","componentDidUpdate","prevStudents","length","deleteStudent","student","body","JSON","stringify","StudentId","render","studentIds","map","list","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,WAAN,SAA0BD,KAAK,CAACE,SAAhC,CAA0C;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWK,QAAX,IAAuB;AADxB,KAAb;AAIH;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAIC,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiB;AAFZ;AAFA,KAAb;AAOAC,IAAAA,KAAK,CAAC,eAAD,EAAkBH,MAAlB,CAAL,CACKI,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI,KAAKE,QAAL,CAAc;AAAEV,MAAAA,QAAQ,EAAEQ;AAAZ,KAAd,CAFjB;AAGH;;AACDG,EAAAA,iBAAiB,GAAG;AAChB,SAAKT,MAAL;AACH,GAxBoD,CA0BrD;AACA;AACA;;;AAEAU,EAAAA,kBAAkB,CAACC,YAAD,EAAe;AAC7BhB,IAAAA,OAAO,CAACC,GAAR,CAAYe,YAAY,CAACZ,QAAb,CAAsBa,MAAlC;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWK,QAAX,CAAoBa,MAAhC;AACA,QAAI,KAAKlB,KAAL,CAAWK,QAAX,KAAwBY,YAA5B,EACA,KAAKX,MAAL;AACH;;AAEDa,EAAAA,aAAa,CAACC,OAAD,EAAU;AACnB,QAAIb,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,MADC;AAETa,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,SAAS,EAAEJ;AAAb,OAAf,CAFG;AAGTX,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiB;AAFZ;AAHA,KAAb;AAQAC,IAAAA,KAAK,CAAC,aAAD,EAAgBH,MAAhB,CAAL,CACKI,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAIX,OAAO,CAACC,GAAR,CAAYU,GAAZ,CAFjB;AAGH;;AACDa,EAAAA,MAAM,GAAG;AAEL,QAAIC,UAAU,GAAG,KAAKvB,KAAL,CAAWC,QAAX,CAAoBuB,GAApB,CAAwBP,OAAO,IAAIA,OAAO,CAACI,SAA3C,CAAjB;AACA,QAAII,IAAI,GAAGF,UAAU,CAACC,GAAX,CAAeE,EAAE,IAAI;AAC5B,aAAO;AAAI,QAAA,GAAG,EAAEA,EAAT;AAAa,QAAA,OAAO,EAAE,MAAM;AAC/B,eAAKV,aAAL,CAAmBU,EAAnB;AACH,SAFM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGFA,EAHE,CAAP;AAKH,KANU,CAAX;AAQA,WAAO;AAAO,MAAA,SAAS,EAAC,uCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,YAAL,CADJ,CADG,EAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,IADL,CAJG,CAAP;AASH;;AAtEoD","sourcesContent":["import React from 'react';\n\nexport default class StudentList extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(\"StudentList Constructor\");\n        this.state = {\n            students: this.props.Students || []\n        };\n\n    }\n\n    update() {\n        let config = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"admin\"\n            }\n        };\n        fetch('/api/students', config)\n            .then(res => res.json())\n            .then(res => this.setState({ students: res }));\n    }\n    componentDidMount() {\n        this.update();\n    }\n\n    // shouldComponentUpdate(nextProps, nextState) {\n    //     return this.props.Students.length !== nextState.students.length;\n    // }\n\n    componentDidUpdate(prevStudents) {\n        console.log(prevStudents.Students.length);\n        console.log(this.props.Students.length);\n        if (this.props.Students !== prevStudents)\n        this.update();\n    }\n\n    deleteStudent(student) {\n        let config = {\n            method: \"POST\",\n            body: JSON.stringify({ StudentId: student }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": \"admin\"\n            }\n        };\n        fetch(\"/api/delete\", config)\n            .then(res => res.json())\n            .then(res => console.log(res))\n    }\n    render() {\n\n        let studentIds = this.state.students.map(student => student.StudentId);\n        let list = studentIds.map(id => {\n            return <tr key={id} onClick={() => {\n                this.deleteStudent(id);\n            }}>\n                {id}\n            </tr>\n        });\n\n        return <table className=\"student-container table table-striped\">\n            <thead>\n                <tr>{\"Student Id\"}</tr>\n            </thead>\n            <tbody>\n                {list}\n            </tbody>\n        </table>\n\n    }\n}"]},"metadata":{},"sourceType":"module"}